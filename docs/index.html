<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PhyloBioBixBench-Verified-50 | Bio Benchmark Results</title>
    <meta
      name="description"
      content="Interactive dashboard for PhyloBioBixBench-Verified-50 benchmark results — direct, MCQ, and refusal-aware grading across 50 biology questions."
    />

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="assets/favicon.svg" />

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta
      property="og:title"
      content="PhyloBioBixBench-Verified-50 | Bio Benchmark"
    />
    <meta
      property="og:description"
      content="Interactive dashboard for PhyloBioBixBench-Verified-50 benchmark results — direct, MCQ, and refusal-aware grading across 50 biology questions."
    />
    <meta
      property="og:url"
      content="https://bio-xyz.github.io/bio-benchmark/"
    />
    <meta property="og:site_name" content="bio.xyz" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta
      name="twitter:title"
      content="PhyloBioBixBench-Verified-50 | Bio Benchmark"
    />
    <meta
      name="twitter:description"
      content="Interactive dashboard for PhyloBioBixBench-Verified-50 benchmark results — direct, MCQ, and refusal-aware grading across 50 biology questions."
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.4/dist/chart.umd.min.js"></script>
    <script defer src="app.js"></script>
  </head>
  <body>
    <div class="ambient" aria-hidden="true"></div>
    <main class="page">
      <!-- 1. Hero -->
      <header class="hero">
        <p class="eyebrow">
          <a href="https://ai.bio.xyz/" class="eyebrow-link">ai.bio.xyz</a>
        </p>
        <h1>PhyloBioBixBench-Verified-50</h1>
        <div class="hero-meta">
          <span id="generated-at">Loading data...</span>
          <span id="totals-badge"></span>
        </div>
        <nav class="hero-links">
          <a href="https://ai.bio.xyz/" class="hero-link">ai.bio.xyz</a>
          <a href="https://github.com/bio-xyz/bio-benchmark" class="hero-link"
            >GitHub</a
          >
        </nav>
      </header>

      <!-- 2. Grading Modes Explainer -->
      <section class="insight-panel" id="grading-modes-section">
        <h2>Grading Modes</h2>
        <div id="grading-modes-content"></div>
      </section>

      <!-- 3. Headline Metric Cards (9 cards) -->
      <section
        id="headline-cards"
        class="cards"
        aria-label="Headline metrics"
      ></section>

      <!-- 4. Key Takeaways -->
      <section class="insight-panel" id="takeaways-section">
        <h2>Key Takeaways</h2>
        <ol id="takeaways-list" class="takeaway-list"></ol>
      </section>

      <!-- 5. Source Runs + Downloads -->
      <section class="panel source-panel">
        <div>
          <h2>Scoped Source Runs</h2>
          <table>
            <thead>
              <tr>
                <th>File</th>
                <th>Date</th>
                <th>Repeats</th>
                <th>Rows</th>
              </tr>
            </thead>
            <tbody id="source-table-body"></tbody>
          </table>
        </div>
        <div>
          <h2>Downloads</h2>
          <ul id="csv-links" class="downloads"></ul>
        </div>
      </section>

      <!-- 6. Performance Image -->
      <section class="panel">
        <h2>Existing Performance Figure</h2>
        <p class="panel-intro">
          Included from <code>results/performance_analysis.png</code> as
          requested.
        </p>
        <img
          src="assets/performance_analysis.png"
          alt="Performance analysis chart for benchmark runs"
          class="performance-image"
        />
      </section>

      <!-- 7. Charts Grid (6 existing + 1 new task group chart) -->
      <section class="charts">
        <article class="panel chart-panel">
          <h2>Overall Accuracy</h2>
          <div id="overall-chart-annotation"></div>
          <div class="chart-frame">
            <canvas id="overall-chart"></canvas>
          </div>
        </article>

        <article class="panel chart-panel">
          <h2>Per-File Comparison</h2>
          <div class="chart-frame">
            <canvas id="file-chart"></canvas>
          </div>
        </article>

        <article class="panel chart-panel">
          <h2>Repeat Ranking (MCQ without refusal)</h2>
          <div class="chart-frame">
            <canvas id="repeat-chart"></canvas>
          </div>
        </article>

        <article class="panel chart-panel">
          <h2>Hardest Questions</h2>
          <div class="chart-frame">
            <canvas id="hardest-chart"></canvas>
          </div>
        </article>

        <article class="panel chart-panel">
          <h2>Largest Refusal Gaps</h2>
          <div id="gap-chart-annotation"></div>
          <div class="chart-frame">
            <canvas id="gap-chart"></canvas>
          </div>
        </article>

        <article class="panel chart-panel">
          <h2>Consistency Mix</h2>
          <div class="chart-frame chart-frame-square">
            <canvas id="consistency-chart"></canvas>
          </div>
        </article>

        <article class="panel chart-panel chart-panel-wide">
          <h2>Task Group Accuracy (32 groups)</h2>
          <div class="chart-frame chart-frame-wide">
            <canvas id="taskgroup-chart"></canvas>
          </div>
        </article>
      </section>

      <!-- 8. Strengths & Weaknesses -->
      <section class="insight-panel" id="sw-section">
        <h2>Strengths &amp; Weaknesses</h2>
        <div class="sw-grid">
          <div>
            <h3>Strengths</h3>
            <ul id="strengths-list" class="insight-list strengths"></ul>
          </div>
          <div>
            <h3>Weaknesses</h3>
            <ul id="weaknesses-list" class="insight-list weaknesses"></ul>
          </div>
        </div>
      </section>

      <!-- 9. All 50 Questions Table -->
      <section class="panel">
        <h2>All 50 Questions</h2>
        <div class="table-scroll">
          <table class="sortable-table" id="question-table">
            <thead>
              <tr>
                <th data-sort="question_id">Question</th>
                <th data-sort="task_group">Task Group</th>
                <th data-sort="direct_pct">Direct</th>
                <th data-sort="mcq_without_refusal_pct">MCQ w/o</th>
                <th data-sort="mcq_with_refusal_pct">MCQ w/</th>
                <th data-sort="refusal_gap_pp">Refusal Gap</th>
                <th data-sort="mcq_lift_pp">MCQ Lift</th>
              </tr>
            </thead>
            <tbody id="question-table-body"></tbody>
          </table>
        </div>
      </section>

      <!-- 10. All 32 Task Groups Table -->
      <section class="panel">
        <h2>All 32 Task Groups</h2>
        <div class="table-scroll">
          <table class="sortable-table" id="taskgroup-table">
            <thead>
              <tr>
                <th data-sort="task_group">Task Group</th>
                <th data-sort="questions">Questions</th>
                <th data-sort="n">Runs</th>
                <th data-sort="direct_pct">Direct</th>
                <th data-sort="mcq_without_refusal_pct">MCQ w/o</th>
                <th data-sort="mcq_with_refusal_pct">MCQ w/</th>
              </tr>
            </thead>
            <tbody id="taskgroup-table-body"></tbody>
          </table>
        </div>
      </section>

      <!-- 11. MCQ Rescue Detail -->
      <section class="panel" id="rescue-detail-section">
        <h2>MCQ Rescue Detail</h2>
        <div id="rescue-detail-content"></div>
      </section>

      <!-- 12. Cross-Run Variability -->
      <section class="panel" id="variability-section">
        <h2>Cross-Run Variability</h2>
        <p class="panel-intro">
          Mixed-result questions broken down by file code (MCQ without refusal
          correct/total).
        </p>
        <div class="table-scroll">
          <table id="variability-table">
            <thead id="variability-table-head"></thead>
            <tbody id="variability-table-body"></tbody>
          </table>
        </div>
      </section>

      <!-- 13. Scientific Reporting -->
      <section class="insight-panel" id="reporting-section">
        <h2>Scientific Reporting</h2>
        <div id="reporting-content" class="reporting-grid"></div>
      </section>

      <!-- 14. Best Repeats Table (all 11) -->
      <section class="panel">
        <h2>Best Repeats</h2>
        <table>
          <thead>
            <tr>
              <th>Rank</th>
              <th>Run</th>
              <th>Direct</th>
              <th>MCQ with refusal</th>
              <th>MCQ without refusal</th>
            </tr>
          </thead>
          <tbody id="repeat-table-body"></tbody>
        </table>
      </section>

      <!-- 15. Rebuild Instructions -->
      <section class="panel">
        <h2>Rebuild Data</h2>
        <p class="panel-intro">
          Run <code>python3 scripts/build_pages_data.py</code> whenever source
          CSVs or image change.
        </p>
      </section>
    </main>
  </body>
</html>
